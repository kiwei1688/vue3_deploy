/* empty css                     */import{d as j,ae as Z,r as s,ad as x,a5 as ee,a as f,c as b,j as m,I as t,m as r,w as l,k as F,Q as M,U as te,ak as N,aa as d,ah as L,ap as ae,an as le,ao as oe,ab as ne}from"./index-9b92ae7c.js";import{D as se,E as re,a as ie,b as ue,c as ce}from"./DialogModal-832dad73.js";import{E as de,a as pe}from"./index-69ea01b9.js";import{a as me,E as _e}from"./index-b8ed45f7.js";import{E as fe}from"./index-27b98533.js";import{E as ve}from"./index-f356624c.js";import"./error-f1912ce6.js";import"./index-6cfaf5ed.js";import"./vnode-99ee7c81.js";const ge=w=>(le("data-v-0e523a90"),w=w(),oe(),w),he={class:"content-wrap"},ye={class:"content-inner"},be={class:"content-title"},we={key:0,class:"tab_wrap flowDialog"},$e={style:{color:"#FF8000"}},ke={style:{color:"#0080FF"}},Ce={key:0,style:{color:"#00d053"}},Ee={key:1,style:{color:"#ff0000"}},De=ge(()=>m("span",{style:{color:"#ff0000"}},null,-1)),Te={class:"pagination_wrap"},Se={key:1,class:"tab_wrap"},ze=j({name:"fundList"}),Ve=j({...ze,setup(w){const{t:v}=Z(),u=s([]),g=s([]),D=s([]),h=s([]),A=x(),Y=s(),_=s(""),$=s(!1),T=s(),k=s(1),p=s(5),S=s(0),H=[5,10,15,20],R="total, sizes, prev, pager, next, jumper";s(),s(),s(!0);const C=async()=>{const e="https://vue3-course-api.hexschool.io/api/royroy-api/admin/products/all";try{const{data:{success:a,products:i}}=await N.get(e);if(console.log("api取得數據 ~~~~~",i),a&&i){h.value=[];for(const[y,n]of Object.entries(i))h.value.push(n);u.value=h.value,g.value=h.value,D.value=h.value,B()}}catch(a){console.error("errrr",a)}};ee(()=>{Y.value=A.getUser,C()});const z=()=>{$.value=!0,T.value={}},O=e=>{$.value=!0,T.value=e},Q=async e=>{ie.confirm(v("comfirmDel"),v("tip"),{confirmButtonText:v("comfirm"),cancelButtonText:v("cancel"),type:"warning"}).then(async()=>{const a=`https://vue3-course-api.hexschool.io/api/royroy-api/admin/product/${e.id}`;try{await N.delete(a),C()}catch(i){console.error(i)}L({type:"success",message:v("delSuccess")})}).catch(()=>{})},V=()=>{_.value||L({type:"warning",message:v("prdName")}),setTimeout(()=>{const e=D.value.filter(a=>a.title.includes(_.value));u.value=e,g.value=e,D.value=e,B()},500)},I=()=>{_.value="",C()},q=e=>{k.value=1,p.value=e,u.value=g.value.filter((a,i)=>i<p.value)},G=e=>{const a=p.value*(e-1),i=g.value.filter((y,n)=>n>=a);u.value=i.filter((y,n)=>n<p.value)},B=()=>{S.value=g.value.length,k.value=1,p.value=5,u.value=g.value.filter((e,a)=>a<p.value)};return(e,a)=>{const i=ae,y=fe,n=ve,E=pe,P=de,c=ue,U=re,J=ce,K=_e,W=me;return f(),b(te,null,[m("div",he,[m("div",ye,[m("div",be,[t(i,{class:"icons"}),m("span",null,r(e.$t("moneyList.managements")),1)]),u.value.length>0?(f(),b("div",we,[t(P,{inline:!0},{default:l(()=>[t(E,{class:"bor",label:e.$t("filterTitle")},{default:l(()=>[t(y,{class:"titleInput",modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=o=>_.value=o)},null,8,["modelValue"]),t(n,{type:"success",onClick:V},{default:l(()=>[d(r(e.$t("search")),1)]),_:1}),t(n,{type:"danger",onClick:I},{default:l(()=>[d(r(e.$t("reset")),1)]),_:1})]),_:1},8,["label"]),t(E,{class:"btn-right"},{default:l(()=>[t(n,{type:"primary",onClick:z},{default:l(()=>[d(r(e.$t("add")),1)]),_:1})]),_:1})]),_:1}),u.value.length>0?(f(),F(U,{key:0,border:"",data:u.value},{default:l(()=>[t(c,{flexd:"",type:"index",label:e.$t("serialNUm"),align:"center",width:"50"},null,8,["label"]),t(c,{prop:"category",label:e.$t("prdType"),align:"center",width:"90"},null,8,["label"]),t(c,{prop:"title",label:e.$t("prdTitle"),align:"center",width:"180"},null,8,["label"]),t(c,{prop:"origin_price",label:e.$t("oPrice"),align:"center",width:"100"},{default:l(({row:o})=>[m("span",$e,r(o.origin_price),1)]),_:1},8,["label"]),t(c,{prop:"price",label:e.$t("sPrice"),align:"center",width:"100"},{default:l(({row:o})=>[m("span",ke,r(o.price),1)]),_:1},8,["label"]),t(c,{prop:"description",label:e.$t("description"),align:"center",width:"auto"},null,8,["label"]),t(c,{prop:"is_enabled",label:e.$t("enables"),align:"center",width:"90"},{default:l(({row:o})=>[o.is_enabled?(f(),b("span",Ce,r(e.$t("isStock")),1)):(f(),b("span",Ee,r(e.$t("noStock")),1))]),_:1},8,["label"]),t(c,{prop:"date",label:e.$t("time"),align:"center",width:"150"},{default:l(({row:o})=>[De,d(r(e.$day(new Date().getTime()).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1},8,["label"]),t(c,{flexd:"right",prop:"operation",label:e.$t("operate"),align:"center",width:"150"},{default:l(o=>[t(n,{size:"small",type:"success",onClick:X=>O(o.row)},{default:l(()=>[d(r(e.$t("edit")),1)]),_:2},1032,["onClick"]),t(n,{size:"small",type:"danger",onClick:X=>Q(o.row)},{default:l(()=>[d(r(e.$t("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])):M("",!0),u.value.length>0?(f(),F(W,{key:1},{default:l(()=>[t(K,{span:24},{default:l(()=>[m("div",Te,[t(J,{"current-page":k.value,"onUpdate:currentPage":a[1]||(a[1]=o=>k.value=o),"page-size":p.value,"onUpdate:pageSize":a[2]||(a[2]=o=>p.value=o),"page-sizes":H,small:"small",layout:R,total:S.value,onSizeChange:q,onCurrentChange:G},null,8,["current-page","page-size","total"])])]),_:1})]),_:1})):M("",!0)])):(f(),b("div",Se,[t(P,{inline:!0},{default:l(()=>[t(E,{label:e.$t("filterTitle")},{default:l(()=>[t(y,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=o=>_.value=o)},null,8,["modelValue"]),t(n,{type:"success",onClick:V},{default:l(()=>[d(r(e.$t("search")),1)]),_:1}),t(n,{type:"danger",onClick:I},{default:l(()=>[d(r(e.$t("reset")),1)]),_:1})]),_:1},8,["label"]),t(E,{class:"btn-right"},{default:l(()=>[t(n,{type:"primary",onClick:z},{default:l(()=>[d(r(e.$t("add")),1)]),_:1})]),_:1})]),_:1}),t(U)]))])]),t(se,{show:$.value,onCloseModal:a[4]||(a[4]=o=>$.value=!1),onHandleUpdateProfiles:C,getEditData:T.value,type:"flowDialog"},null,8,["show","getEditData"])],64)}}});const Ye=ne(Ve,[["__scopeId","data-v-0e523a90"]]);export{Ye as default};
