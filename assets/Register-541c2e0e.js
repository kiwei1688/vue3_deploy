/* empty css                     */import{d as _,r as p,aj as E,$ as h,H as x,a as U,c as k,j as u,I as a,w as t,aa as i,m as c,ak as q,ah as F}from"./index-9b92ae7c.js";import{E as B,a as C,t as $,u as I}from"./index-69ea01b9.js";import{E as N}from"./index-27b98533.js";import{E as P}from"./index-f356624c.js";import"./error-f1912ce6.js";import"./index-6cfaf5ed.js";const R={class:"register"},S={class:"form-container"},j={class:"manage-tip"},A=u("span",{class:"title"},"後台管理系統",-1),D={class:"tiparea"},H=_({name:"register"}),W=_({...H,setup(M){const m=p(),g=E(),l=p({username:"米斯特吴",email:"27732357@qq.com",password:"321321",password2:"321321",identity:"管理员"}),f=h({username:[{required:!0,message:"用戶名不能為空",trigger:"change"},{min:2,max:30,message:"長度在2到30個字符之間",trigger:"blur"}],email:[{type:"email",required:!0,message:"信箱格式錯誤",trigger:"blur"}],password:[{required:!0,message:"密碼不能為空",trigger:"blur"},{min:6,max:30,message:"長度在6到30個字符之間",trigger:"blur"}],password2:[{min:6,max:30,message:"長度在6到30個字符之間",trigger:"blur"},{validator:(n,e,s)=>{e===""?s(new Error("請重新輸入密碼")):e!==l.value.password?s(new Error("兩次密碼輸入不一致")):s()},trigger:"blur"}]}),v=n=>{n&&n.validate(async e=>{if(e){const s="/api/users/register";try{const{data:r}=await q.post(s,l.value);F({message:"用戶註冊成功!.",type:"success"}),g.push({path:"/"})}catch(r){console.error("errrr",r)}}else return console.log("err submit"),!1})};return(n,e)=>{const s=N,r=C,d=$,w=I,V=P,b=x("router-link"),y=B;return U(),k("div",R,[u("section",S,[u("div",j,[A,a(y,{rules:f,ref_key:"ruleFormRef",ref:m,model:l.value,class:"registerForm","label-width":"80px"},{default:t(()=>[a(r,{label:"用戶名",prop:"username"},{default:t(()=>[a(s,{modelValue:l.value.username,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.username=o),placeholder:"請輸入用戶名"},null,8,["modelValue"])]),_:1}),a(r,{label:"信箱",prop:"email"},{default:t(()=>[a(s,{modelValue:l.value.email,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.email=o),placeholder:"請輸入信箱"},null,8,["modelValue"])]),_:1}),a(r,{label:"密碼",prop:"password"},{default:t(()=>[a(s,{modelValue:l.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.password=o),placeholder:"請輸入密碼",type:"password"},null,8,["modelValue"])]),_:1}),a(r,{label:"確認密碼",prop:"password2"},{default:t(()=>[a(s,{modelValue:l.value.password2,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.password2=o),placeholder:"請確認密碼",type:"password"},null,8,["modelValue"])]),_:1}),a(r,{label:"選擇身分"},{default:t(()=>[a(w,{modelValue:l.value.identity,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.identity=o),placeholder:"選擇身分"},{default:t(()=>[a(d,{label:"管理員",value:"manager"}),a(d,{label:"員工",value:"employee"})]),_:1},8,["modelValue"])]),_:1}),a(r,null,{default:t(()=>[a(V,{onClick:e[5]||(e[5]=o=>v(m.value)),class:"submit-btn"},{default:t(()=>[i("註冊")]),_:1})]),_:1}),u("div",D,[u("p",null,[i(c(n.$t("hasAcc")),1),a(b,{to:"/login"},{default:t(()=>[i(c(n.$t("login")),1)]),_:1})])])]),_:1},8,["rules","model"])])])])}}});export{W as default};
